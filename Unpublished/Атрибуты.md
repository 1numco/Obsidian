
Все атрибуты
#новичкам 

Атрибуты - это некоторые свойства кода, которые каким-либо образом придают ему дополнительные свойства. Они могут применяться к типам, переменным, функциям, целым блокам кода и даже ко всей единице трансляции.

Изначально атрибуты были компиляторными расширениями: для GNU и IBM  `__attribute__((...))`, для Microsoft  `__declspec()`. Но начиная с С++11 начали потихоньку появляться стандартные атрибуты. И в этом посте мы их кратко всех и рассмотрим. После будет серия постов с подробностями про каждый атрибут, ссылки прикреплю здесь.

Поехали:

1 [[noreturn]] - говорит о том, что функция ничего не возвращает.  Не в смысле void. Она не возвращает контроль вызывающему коду. С++11

2 [[carries_dependency]] - что-то невнятное связанное с std::memory_order. Не стоит рассмотрения, так как его удалили из 26 стандарта, пушто его никто не использовал. С++11.

3 [[deprecated]] - использование имени или сущности разрешается, но по каким-то причинам эта функциональность поросла мхом и паутиной и стоит перейти на более новое API. C++14

4 [[fallthrough]] - используется в switch для предупреждения компилятора, что отсутствие break в конце кейса и проваливание в слеющий - это ожидаемое поведение. С++17.

5 [[maybe_unused]] - компилятор выдает варнинг на неиспользованные сущности. Так вот этот атрибут подавляет предупреждение для помеченной им сущности. С++17

6 [[nodiscard]] - если вы не используете результат работы функции, то вам прилетит по шапке от компилятора. С++17

7 [[likely]] и [[unlikely]] - если вы лайкаете ветку условия, то сообщаете компилятору, что она выполниться с большей вероятностью и это нужно учесть при оптимизации. Дизлайк имеет противоположное влияние. С++20

8 [[no_unique_address]] - позволяет нестатическому полю класса не аккупировать драгоценную память. С++20.

9 [[assume(expression)]] - ожидается, что expression будет вычисляться в true, что дает компилятору больше информации для оптимизации. С++23

10 [[indeterminate]] - всем, кто любит использовать неинициализированные переменные в качестве output параметров функции и clang-tidy посвещается. С++26.

Вот и все. Не так много, но если вам прям не хватает, то вы можете беспрепятственно использовать любые implementation-defined атрибуты.

Highlight whats matter. Stay cool.

#cppcore #cpp11 #cpp14 #cpp17 #cpp20 #cpp23 #cpp26





